# Golang Notes 2026 重构计划 (Refactoring Roadmap)

本项目旨在将基于 Go 1.14 时代的源码分析笔记，更新至适应 2026 年技术标准和面试要求的高质量知识库。

> **📌 版本基准**: 本次重构以 **Go 1.23.11** 为准，所有源码分析和特性说明均基于此版本。

## 🎯 目标 (Goals)
1. **现代化 (Modernize)**: 覆盖 Go 1.18 - 1.24+ 引入的关键特性（泛型、PGO、Swiss Table Map 等）。
2. **深度化 (Deep Dive)**: 更新底层原理的实现细节（如 Timer 优化、GC Pacer、栈管理）。
3. **面试导向 (Interview-Ready)**: 提炼核心考点，增加 TL;DR 和面试常见问题解答。
4. **结构优化 (Restructure)**: 改善项目目录结构，提升可读性和维护性。

## 📝 待办事项 (To-Do List)

### 1. 关键特性补充 (Critical Features)
- [x] **泛型 (Generics)** `[High Priority]` ✅ 2026-02-05
    - [x] 介绍 Type Parameters, Constraints, `any`。
    - [x] **核心原理**: 深入解析 GCShape (GC Stenciling) 及其与 C++ 模板/Java 泛型的区别。
    - [x] 最佳实践与性能影响。
- [x] **内存管理增强 (Memory Management)** ✅ 2026-02-05
    - [x] **Soft Memory Limit**: 解析 `GOMEMLIMIT` (Go 1.19) 原理及在 K8s 中的应用。
    - [x] **Arena**: 介绍 Go 1.20+ 实验性的 Arena 手动内存管理（如果已正式发布或被广泛使用）。
- [x] **循环变量修复 (Loop Variable)** ✅ 2026-02-05
    - [x] 更新相关章节，说明 Go 1.22 对 `for` 循环变量作用域的变更。

### 2. 核心机制更新 (Core Mechanics)
- [x] **调度器 (Scheduler)** ✅ 2026-02-05
    - [x] 补充 Goroutine 栈的缩容机制 (Stack Shrinking)。
    - [x] 介绍 **PGO (Profile-Guided Optimization)** (Go 1.20+) 及其对调度的影响。
- [x] **定时器 (Timer)** ✅ 2026-02-05
    - [x] 更新 Timer 实现机制（从 1.14 的 P 本地堆到更新版本的优化）。
- [x] **Map 演进** ✅ 2026-02-05
    - [x] 调研并补充 Swiss Table Map 实现（Go 1.24+ 潜在特性）。
    - [x] 补充 Map 的并发检测与扩容细节。

### 3. 结构与体验优化 (Structure & UX)
- [ ] **目录重组**: 将根目录的 md 文件分类整理 (e.g., `runtime/`, `syntax/`, `std/`)。
- [ ] **图表重绘**: 使用 Mermaid.js 替换失效或过时的外部图片引用，确保文档自包含。
- [ ] **面试考点**: 在每章末尾添加 "Interview Cheatsheet" (TL;DR)。
- [ ] **实战示例**: 添加 `examples/` 目录，提供可运行的代码片段。

## 📅 进度追踪
- *Start Date*: 2026-02-05
- *Version*: Go 1.23.11
- *Status*: ✅ Phase 1 Complete (关键特性补充 + 核心机制更新)

### 执行记录
| 日期 | 任务 | 状态 |
|------|------|------|
| 2026-02-05 | 添加版本基准说明 (Go 1.23.11) | ✅ 完成 |
| 2026-02-05 | 泛型 - Type Parameters, Constraints, any | ✅ 完成 |
| 2026-02-05 | 泛型 - GCShape 核心原理深入解析 | ✅ 完成 |
| 2026-02-05 | 泛型 - 最佳实践与性能影响 | ✅ 完成 |
| 2026-02-05 | 内存管理 - GOMEMLIMIT (Soft Memory Limit) | ✅ 完成 |
| 2026-02-05 | 内存管理 - Arena 实验性特性 | ✅ 完成 |
| 2026-02-05 | 循环变量修复 - Go 1.22 for 循环变量作用域变更 | ✅ 完成 |
| 2026-02-05 | 调度器 - Goroutine 栈缩容机制 | ✅ 完成 |
| 2026-02-05 | 调度器 - PGO (Profile-Guided Optimization) | ✅ 完成 |
| 2026-02-05 | 定时器 - Timer 实现机制更新 | ✅ 完成 |
| 2026-02-05 | Map 演进 - Swiss Table Map 实现 | ✅ 完成 |
| 2026-02-05 | Map 演进 - 并发检测与扩容细节 | ✅ 完成 |
